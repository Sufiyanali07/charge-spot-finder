{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport store from '../store';\n\n// Lazy-loaded components\nconst Home = () => import('../views/Home.vue');\nconst Login = () => import('../views/Login.vue');\nconst Register = () => import('../views/Register.vue');\nconst StationList = () => import('../views/StationList.vue');\nconst StationForm = () => import('../views/StationForm.vue');\nconst MapView = () => import('../views/MapView.vue');\nconst Profile = () => import('../views/Profile.vue');\nconst NotFound = () => import('../views/NotFound.vue');\nconst routes = [{\n  path: '/',\n  name: 'Home',\n  component: Home\n}, {\n  path: '/login',\n  name: 'Login',\n  component: Login,\n  meta: {\n    guestOnly: true\n  }\n}, {\n  path: '/register',\n  name: 'Register',\n  component: Register,\n  meta: {\n    guestOnly: true\n  }\n}, {\n  path: '/stations',\n  name: 'StationList',\n  component: StationList\n}, {\n  path: '/stations/new',\n  name: 'AddStation',\n  component: StationForm,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/stations/:id/edit',\n  name: 'EditStation',\n  component: StationForm,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/map',\n  name: 'MapView',\n  component: MapView\n}, {\n  path: '/profile',\n  name: 'Profile',\n  component: Profile,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/:pathMatch(.*)*',\n  name: 'NotFound',\n  component: NotFound\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  linkActiveClass: 'active'\n});\n\n// Navigation guards\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = store.getters.isLoggedIn;\n\n  // Check for protected routes\n  if (to.matched.some(record => record.meta.requiresAuth) && !isLoggedIn) {\n    next({\n      name: 'Login',\n      query: {\n        redirect: to.fullPath\n      }\n    });\n  }\n  // Check for guest-only routes (login/register)\n  else if (to.matched.some(record => record.meta.guestOnly) && isLoggedIn) {\n    next({\n      name: 'Home'\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","store","Home","Login","Register","StationList","StationForm","MapView","Profile","NotFound","routes","path","name","component","meta","guestOnly","requiresAuth","router","history","process","env","BASE_URL","linkActiveClass","beforeEach","to","from","next","isLoggedIn","getters","matched","some","record","query","redirect","fullPath"],"sources":["C:/Users/admin/OneDrive/Desktop/charge-spot-finder/frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport store from '../store'\n\n// Lazy-loaded components\nconst Home = () => import('../views/Home.vue')\nconst Login = () => import('../views/Login.vue')\nconst Register = () => import('../views/Register.vue')\nconst StationList = () => import('../views/StationList.vue')\nconst StationForm = () => import('../views/StationForm.vue')\nconst MapView = () => import('../views/MapView.vue')\nconst Profile = () => import('../views/Profile.vue')\nconst NotFound = () => import('../views/NotFound.vue')\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n    meta: { guestOnly: true }\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: Register,\n    meta: { guestOnly: true }\n  },\n  {\n    path: '/stations',\n    name: 'StationList',\n    component: StationList\n  },\n  {\n    path: '/stations/new',\n    name: 'AddStation',\n    component: StationForm,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/stations/:id/edit',\n    name: 'EditStation',\n    component: StationForm,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/map',\n    name: 'MapView',\n    component: MapView\n  },\n  {\n    path: '/profile',\n    name: 'Profile',\n    component: Profile,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/:pathMatch(.*)*',\n    name: 'NotFound',\n    component: NotFound\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  linkActiveClass: 'active'\n})\n\n// Navigation guards\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = store.getters.isLoggedIn\n  \n  // Check for protected routes\n  if (to.matched.some(record => record.meta.requiresAuth) && !isLoggedIn) {\n    next({ name: 'Login', query: { redirect: to.fullPath } })\n  } \n  // Check for guest-only routes (login/register)\n  else if (to.matched.some(record => record.meta.guestOnly) && isLoggedIn) {\n    next({ name: 'Home' })\n  } \n  else {\n    next()\n  }\n})\n\nexport default router\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,KAAK,MAAM,UAAU;;AAE5B;AACA,MAAMC,IAAI,GAAGA,CAAA,KAAM,MAAM,CAAC,mBAAmB,CAAC;AAC9C,MAAMC,KAAK,GAAGA,CAAA,KAAM,MAAM,CAAC,oBAAoB,CAAC;AAChD,MAAMC,QAAQ,GAAGA,CAAA,KAAM,MAAM,CAAC,uBAAuB,CAAC;AACtD,MAAMC,WAAW,GAAGA,CAAA,KAAM,MAAM,CAAC,0BAA0B,CAAC;AAC5D,MAAMC,WAAW,GAAGA,CAAA,KAAM,MAAM,CAAC,0BAA0B,CAAC;AAC5D,MAAMC,OAAO,GAAGA,CAAA,KAAM,MAAM,CAAC,sBAAsB,CAAC;AACpD,MAAMC,OAAO,GAAGA,CAAA,KAAM,MAAM,CAAC,sBAAsB,CAAC;AACpD,MAAMC,QAAQ,GAAGA,CAAA,KAAM,MAAM,CAAC,uBAAuB,CAAC;AAEtD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEX;AACb,CAAC,EACD;EACES,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEV,KAAK;EAChBW,IAAI,EAAE;IAAEC,SAAS,EAAE;EAAK;AAC1B,CAAC,EACD;EACEJ,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAET,QAAQ;EACnBU,IAAI,EAAE;IAAEC,SAAS,EAAE;EAAK;AAC1B,CAAC,EACD;EACEJ,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAER;AACb,CAAC,EACD;EACEM,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEP,WAAW;EACtBQ,IAAI,EAAE;IAAEE,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEL,IAAI,EAAE,oBAAoB;EAC1BC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEP,WAAW;EACtBQ,IAAI,EAAE;IAAEE,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEL,IAAI,EAAE,MAAM;EACZC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEN;AACb,CAAC,EACD;EACEI,IAAI,EAAE,UAAU;EAChBC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEL,OAAO;EAClBM,IAAI,EAAE;IAAEE,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEL,IAAI,EAAE,kBAAkB;EACxBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEJ;AACb,CAAC,CACF;AAED,MAAMQ,MAAM,GAAGlB,YAAY,CAAC;EAC1BmB,OAAO,EAAElB,gBAAgB,CAACmB,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CX,MAAM;EACNY,eAAe,EAAE;AACnB,CAAC,CAAC;;AAEF;AACAL,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,UAAU,GAAG1B,KAAK,CAAC2B,OAAO,CAACD,UAAU;;EAE3C;EACA,IAAIH,EAAE,CAACK,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACjB,IAAI,CAACE,YAAY,CAAC,IAAI,CAACW,UAAU,EAAE;IACtED,IAAI,CAAC;MAAEd,IAAI,EAAE,OAAO;MAAEoB,KAAK,EAAE;QAAEC,QAAQ,EAAET,EAAE,CAACU;MAAS;IAAE,CAAC,CAAC;EAC3D;EACA;EAAA,KACK,IAAIV,EAAE,CAACK,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACjB,IAAI,CAACC,SAAS,CAAC,IAAIY,UAAU,EAAE;IACvED,IAAI,CAAC;MAAEd,IAAI,EAAE;IAAO,CAAC,CAAC;EACxB,CAAC,MACI;IACHc,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeT,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}